<dom-module id="designer-menu">
    <template>
        <style>
            .main-menu paper-icon-item{
                display: block;
                line-height: 40px;
                min-height: 40px;
                background: blue;
                margin-bottom: 5px;
            }

            .main-menu paper-icon-item iron-icon{
                margin-left: 10px;
                margin-right: 20px;
                margin-top: 8px;
            }
        </style>
        <template is="dom-repeat" items ="{{menuList}}">
            <!-- <div draggable="true" style="background:red; margin: 5px; border: 1px solid orange">{{item.title}}</div> -->
            <paper-icon-item draggable="true" element-name="{{item.title}}" on-dragstart="onDragStart">
              <iron-icon style="background: orange" icon="{{item.icon}}" item-icon></iron-icon>
              <span style="background: yellow">{{item.title}}</span>
            </paper-icon-item>
        </template>
        <!-- <template repeat="{{menu in menuList}}">
            <paper-icon-item draggable="true" on-dragstart="{{onDragStart}}">
              <iron-icon icon="{{menu.icon}}" item-icon></iron-icon> {{menu.title}}
            </paper-icon-item>
        </template> -->
    </template>
</dom-module>
<script>
    Polymer({
        is: 'designer-menu',
        ready: function(){
        },

        properties: {
            app: Object,
            /**
             * 菜单列表
             */
            menuList: {
                type: Array,
                value: {}
            },

            test: {
                type: String,
                value: 'ddddfsfsfs'
            }
        },

        onDragStart: function(eve, detail){
            console.log("dragstart ...", eve.target);

            // eve.dataTransfer.setData('html', 'aaaaaaa');
            // eve.dataTransfer.setData('element', sender);

            this.app.dragInfo = {
                element: eve.target
            }
        },

        onDrop: function(eve){
            console.log("drop...", eve);
        }
    })
</script>
